<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <EditText
            android:id="@+id/edtId"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Enter ID"
            android:inputType="number" />

        <EditText
            android:id="@+id/edtName"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Enter Name" />

        <EditText
            android:id="@+id/edtEmail"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Enter Email"
            android:inputType="textEmailAddress" />

        <Button
            android:id="@+id/btnAdd"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Add Record" />

        <Button
            android:id="@+id/btnUpdate"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Update Record" />

        <Button
            android:id="@+id/btnDelete"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Delete Record" />

        <Button
            android:id="@+id/btnView"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="View All Records" />

        <TextView
            android:id="@+id/tvData"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Data will appear here"
            android:paddingTop="20dp"
            android:textSize="16sp" />

    </LinearLayout>
</ScrollView>


package com.example.q112;

import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {

    EditText edtId, edtName, edtEmail;
    Button btnAdd, btnUpdate, btnDelete, btnView;
    TextView tvData;

    SQLiteDatabase db;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        edtId = findViewById(R.id.edtId);
        edtName = findViewById(R.id.edtName);
        edtEmail = findViewById(R.id.edtEmail);
        btnAdd = findViewById(R.id.btnAdd);
        btnUpdate = findViewById(R.id.btnUpdate);
        btnDelete = findViewById(R.id.btnDelete);
        btnView = findViewById(R.id.btnView);
        tvData = findViewById(R.id.tvData);

        // Create or open DB
        db = openOrCreateDatabase("MyDB", MODE_PRIVATE, null);
        db.execSQL("CREATE TABLE IF NOT EXISTS students(id INTEGER PRIMARY KEY, name TEXT, email TEXT);");

        // Add Record
        btnAdd.setOnClickListener(v -> {
            String id = edtId.getText().toString();
            String name = edtName.getText().toString();
            String email = edtEmail.getText().toString();

            if(id.isEmpty() || name.isEmpty() || email.isEmpty()){
                Toast.makeText(this, "Please enter all fields", Toast.LENGTH_SHORT).show();
            } else {
                db.execSQL("INSERT INTO students VALUES('" + id + "','" + name + "','" + email + "');");
                Toast.makeText(this, "Record Added", Toast.LENGTH_SHORT).show();
                clearFields();
            }
        });

        // Update Record
        btnUpdate.setOnClickListener(v -> {
            String id = edtId.getText().toString();
            String name = edtName.getText().toString();
            String email = edtEmail.getText().toString();

            if(id.isEmpty() || name.isEmpty() || email.isEmpty()){
                Toast.makeText(this, "Please enter all fields", Toast.LENGTH_SHORT).show();
            } else {
                Cursor cursor = db.rawQuery("SELECT * FROM students WHERE id = ?", new String[]{id});
                if(cursor.moveToFirst()){
                    db.execSQL("UPDATE students SET name='" + name + "', email='" + email + "' WHERE id='" + id + "';");
                    Toast.makeText(this, "Record Updated", Toast.LENGTH_SHORT).show();
                    clearFields();
                } else {
                    Toast.makeText(this, "Record not found", Toast.LENGTH_SHORT).show();
                }
                cursor.close();
            }
        });

        // Delete Record
        btnDelete.setOnClickListener(v -> {
            String id = edtId.getText().toString();
            if(id.isEmpty()){
                Toast.makeText(this, "Enter ID to delete", Toast.LENGTH_SHORT).show();
            } else {
                Cursor cursor = db.rawQuery("SELECT * FROM students WHERE id = ?", new String[]{id});
                if(cursor.moveToFirst()){
                    db.execSQL("DELETE FROM students WHERE id='" + id + "';");
                    Toast.makeText(this, "Record Deleted", Toast.LENGTH_SHORT).show();
                    clearFields();
                } else {
                    Toast.makeText(this, "Record not found", Toast.LENGTH_SHORT).show();
                }
                cursor.close();
            }
        });

        // View all records
        btnView.setOnClickListener(v -> {
            Cursor cursor = db.rawQuery("SELECT * FROM students", null);
            StringBuilder builder = new StringBuilder();
            while(cursor.moveToNext()){
                builder.append("ID: ").append(cursor.getString(0))
                        .append("\nName: ").append(cursor.getString(1))
                        .append("\nEmail: ").append(cursor.getString(2))
                        .append("\n\n");
            }
            tvData.setText(builder.toString());
            cursor.close();
        });
    }

    private void clearFields() {
        edtId.setText("");
        edtName.setText("");
        edtEmail.setText("");
    }
}
